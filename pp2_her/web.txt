<html>

   <head>
     <title>CGI App</title>
     <script>
function addVehicle() {
  var xhttp = new XMLHttpRequest();
  xhttp.onreadystatechange = function() {
    if (this.readyState == 4 && this.status == 200) {
  console.log("resp ", this.responseText);
      document.getElementById("demo").innerHTML = this.responseText;
    }
  };
  var vehicle = {};
  var make = document.getElementById("make").value;
  var color = document.getElementById("color").value;
  var year = document.getElementById("year").value;
  vehicle.make = make;
  vehicle.color = color;
  vehicle.year = year;
  var val = JSON.stringify(vehicle);
  console.log("v obj ", vehicle);
  console.log("v ", val);
  xhttp.open("POST", "w.cgi", true);
  xhttp.send(val);

//var obj = JSON.parse(text);
}
function sendcgi() {
  var xhttp = new XMLHttpRequest();
  xhttp.onreadystatechange = function() {
    if (this.readyState == 4 && this.status == 200) {
  console.log("resp ", this.responseText);
      document.getElementById("demo").innerHTML = this.responseText;
    }
  };
  xhttp.open("GET", "w?name=hi", true);
  xhttp.send();

//var obj = JSON.parse(text);
}
     </script>


   </head>
   <body>
	make: <input id="make"></input> <br>
	year: <input id="year"></input> <br>
	color: <input id="color"></input> <br>
  	<button type="button" onclick="addVehicle()">Add Vehicle</button>
  	<button type="button" onclick="sendcgi()">fcgi</button>
	<div id="demo"></div>
   </body>


</html>
